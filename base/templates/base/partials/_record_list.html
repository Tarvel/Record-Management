<div id="record-list">
    {% comment %} Mobile {% endcomment %}
    <div class="space-y-4 md:hidden">

        
        {% if records %}
            {% for record in records  %}
        <div class="bg-white rounded-xl shadow-md p-4">
            <div class="flex justify-between items-start">
                <div>
                    <p class="font-bold text-slate-800">{{record.department_name}}</p>
                    <p class="text-sm text-slate-500">{{record.hardware_type}}</p>
                </div>
                
                {% if page == 'dashboard' %}
                    {% if record.is_confirmed %}
                    <span class="px-2.5 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" class="w-4 h-4 mr-1">
                        <g transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                        <circle cx="45" cy="45" r="45" fill="rgb(40,201,55)"/>
                        <path d="M 38.478 64.5 c -0.01 0 -0.02 0 -0.029 0 c -1.3 -0.009 -2.533 -0.579 -3.381 -1.563 L 21.59 47.284 c -1.622 -1.883 -1.41 -4.725 0.474 -6.347 c 1.884 -1.621 4.725 -1.409 6.347 0.474 l 10.112 11.744 L 61.629 27.02 c 1.645 -1.862 4.489 -2.037 6.352 -0.391 c 1.862 1.646 2.037 4.49 0.391 6.352 l -26.521 30 C 40.995 63.947 39.767 64.5 38.478 64.5 z" fill="#fff"/>
                        </g>
                    </svg>
                    Confirmed
                    </span>
                    {% else %}
                    <span class="px-2.5 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" class="w-4 h-4 mr-1">
                        <g transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                        <path d="M 40.513 41.614 c 2.452 2.125 2.458 5.665 0.005 7.79 c -4.107 3.558 -9.02 7.211 -9.777 17.146 c -0.047 0.611 0.451 1.133 1.064 1.133 l 27.292 0 c 0.613 0 1.111 -0.522 1.064 -1.133 c -0.757 -9.934 -5.67 -13.587 -9.777 -17.146 c -2.453 -2.126 -2.447 -5.666 0.006 -7.792 c 4.24 -3.673 9.337 -7.45 9.831 -18.138 c 0.028 -0.601 -0.465 -1.107 -1.067 -1.107 l -27.407 0 c -0.602 0 -1.095 0.506 -1.067 1.107 C 31.175 34.164 36.273 37.94 40.513 41.614 z" fill="rgb(255,121,0)"/>
                        <path d="M 88.711 60.078 l -7.712 -2.066 c -2.998 8.042 -8.643 14.735 -16.171 19.08 c -8.575 4.947 -18.557 6.261 -28.113 3.699 c -9.544 -2.557 -17.528 -8.69 -22.481 -17.268 c -4.953 -8.579 -6.272 -18.56 -3.715 -28.104 c 5.286 -19.73 25.638 -31.48 45.374 -26.197 c 5.004 1.341 9.596 3.678 13.647 6.945 l 3.104 2.502 l -5.721 5.721 h 16.556 V 7.835 l -5.262 5.262 l -2.52 -2.177 c -5.151 -4.45 -11.121 -7.606 -17.744 -9.382 C 54.067 0.497 50.161 0 46.318 0 C 26.449 0 8.218 13.278 2.836 33.361 c -3.106 11.59 -1.502 23.714 4.515 34.137 s 15.715 17.872 27.305 20.978 c 11.498 3.078 23.845 1.453 34.148 -4.495 C 78.174 78.57 85.143 70.17 88.711 60.078 z" fill="rgb(255,121,0)"/>
                        </g>
                    </svg>
                    Pending
                    </span>
                {% endif %}
                {% else %}
                <span class="px-2.5 py-0.5 inline-flex items-center text-xs leading-5 font-semibold bg-slate-100 text-slate-800">
                {% endif %}
                    
            </div>
            <div class="mt-4 border-t pt-4 text-sm text-slate-600 space-y-1">
                <p><strong>ICT Staff:</strong> {{record.ict_personnel.get_full_name}}</p>
                <p><strong>Date:</strong> {{record.updated_at|date:"jS" }}-{{record.updated_at|date:"M"}}-{{record.updated_at|date:"Y" }}</p>
            </div>
            
            {% if page == 'dashboard' %}
                <a href="{% url 'record_detail' record.slug %}" class="block text-center mt-4 w-full bg-slate-100 text-slate-700 font-medium py-2 rounded-md hover:bg-slate-200">View Details</a>
            {% else %}
            {% comment %} {% url 'draft_detail' record.slug %} {% endcomment %}
                <a href="{% url 'draft_detail' record.slug %}" class="block text-center mt-4 w-full bg-slate-100 text-slate-700 font-medium py-2 rounded-md hover:bg-slate-200">View Draft</a>
            {% endif %}
                
        </div>
        {% endfor %}
        {% else %}
        <div class="bg-white text-center p-12 rounded-xl shadow-sm border border-slate-200/80">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-slate-400 mx-auto mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
        
            {% if page == 'dashboard' %}
            <h3 class="font-semibold text-slate-800">No Record Found</h3>
            <p class="text-sm text-slate-500 mt-1">There are currently no records registered.</p>
            {% else %}
            <h3 class="font-semibold text-slate-800">No Drafts Found</h3>
            <p class="text-sm text-slate-500 mt-1">You currently have no unpublished records.</p>
            {% endif %}            
        </div>
        {% endif %}
            
            
    </div>

    <div class="hidden md:block bg-white rounded-xl shadow-md overflow-hidden">
        <div class="overflow-x-auto">
            
            {% if records %}
                <table class="min-w-full divide-y divide-slate-200">
                <thead class="bg-slate-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Department</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Hardware</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">ICT Staff</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Status</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Date</th>
                        <th class="relative px-6 py-3"><span class="sr-only">View</span></th>
                    </tr>
                </thead>

                {% for record in records  %}
                <tbody class="bg-white divide-y divide-slate-200">
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-slate-900">{{record.department_name}}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500">{{record.hardware_type}}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500">{{record.ict_personnel.get_full_name}}</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            
                            {% if page == "dashboard" %}
                                {% if record.is_confirmed %}
                                <span class="px-2.5 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" class="w-4 h-4 mr-1">
                                    <g transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                                    <circle cx="45" cy="45" r="45" fill="rgb(40,201,55)"/>
                                    <path d="M 38.478 64.5 c -0.01 0 -0.02 0 -0.029 0 c -1.3 -0.009 -2.533 -0.579 -3.381 -1.563 L 21.59 47.284 c -1.622 -1.883 -1.41 -4.725 0.474 -6.347 c 1.884 -1.621 4.725 -1.409 6.347 0.474 l 10.112 11.744 L 61.629 27.02 c 1.645 -1.862 4.489 -2.037 6.352 -0.391 c 1.862 1.646 2.037 4.49 0.391 6.352 l -26.521 30 C 40.995 63.947 39.767 64.5 38.478 64.5 z" fill="#fff"/>
                                    </g>
                                </svg>
                                Confirmed
                                </span>
                                {% else %}
                                <span class="px-2.5 py-0.5 inline-flex items-center text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" class="w-4 h-4 mr-1">
                                    <g transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                                    <path d="M 40.513 41.614 c 2.452 2.125 2.458 5.665 0.005 7.79 c -4.107 3.558 -9.02 7.211 -9.777 17.146 c -0.047 0.611 0.451 1.133 1.064 1.133 l 27.292 0 c 0.613 0 1.111 -0.522 1.064 -1.133 c -0.757 -9.934 -5.67 -13.587 -9.777 -17.146 c -2.453 -2.126 -2.447 -5.666 0.006 -7.792 c 4.24 -3.673 9.337 -7.45 9.831 -18.138 c 0.028 -0.601 -0.465 -1.107 -1.067 -1.107 l -27.407 0 c -0.602 0 -1.095 0.506 -1.067 1.107 C 31.175 34.164 36.273 37.94 40.513 41.614 z" fill="rgb(255,121,0)"/>
                                    <path d="M 88.711 60.078 l -7.712 -2.066 c -2.998 8.042 -8.643 14.735 -16.171 19.08 c -8.575 4.947 -18.557 6.261 -28.113 3.699 c -9.544 -2.557 -17.528 -8.69 -22.481 -17.268 c -4.953 -8.579 -6.272 -18.56 -3.715 -28.104 c 5.286 -19.73 25.638 -31.48 45.374 -26.197 c 5.004 1.341 9.596 3.678 13.647 6.945 l 3.104 2.502 l -5.721 5.721 h 16.556 V 7.835 l -5.262 5.262 l -2.52 -2.177 c -5.151 -4.45 -11.121 -7.606 -17.744 -9.382 C 54.067 0.497 50.161 0 46.318 0 C 26.449 0 8.218 13.278 2.836 33.361 c -3.106 11.59 -1.502 23.714 4.515 34.137 s 15.715 17.872 27.305 20.978 c 11.498 3.078 23.845 1.453 34.148 -4.495 C 78.174 78.57 85.143 70.17 88.711 60.078 z" fill="rgb(255,121,0)"/>
                                    </g>
                                </svg>
                                Pending
                                </span>
                                {% endif %}
                                {% else %}
                                 <span class="px-2.5 py-0.5 inline-flex items-center text-xs leading-5 font-semibold bg-slate-100 text-slate-800">
                            {% endif %}
                                
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-slate-500">{{record.updated_at|date:"jS" }}-{{record.updated_at|date:"M"}}-{{record.updated_at|date:"Y" }}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
                        {% if page == 'dashboard' %}
                            <a href="{% url 'record_detail' record.slug %}" class="text-blue-600 hover:text-blue-900 hover:underline">View</a>
                        {% else %}
                            <a href="{% url 'draft_detail' record.slug %}" class="text-blue-600 hover:text-blue-900 hover:underline">View Draft</a>
                        {% endif %}
                            </td>
                    </tr>
                </tbody>
                {% endfor %}
            
                
            </table>

            {% else %}

             <div class="bg-white text-center p-12 rounded-xl shadow-sm border border-slate-200/80">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-slate-400 mx-auto mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
                
                {% if page == 'dashboard' %}
                <h3 class="font-semibold text-slate-800">No Record Found</h3>
                <p class="text-sm text-slate-500 mt-1">There are currently no records registered.</p>
                {% else %}
                <h3 class="font-semibold text-slate-800">No Drafts Found</h3>
                <p class="text-sm text-slate-500 mt-1">You currently have no unpublished records.</p>
                {% endif %}
                    
            </div>
            {% endif %}
                
        </div>
    </div>



<nav class="mt-8 flex flex-col sm:flex-row items-center justify-between gap-4" aria-label="Pagination">

    <div class="text-sm text-slate-600 bg-white shadow-sm rounded-lg px-4 py-2 border border-slate-200">
        Showing <span class="font-medium">{{ records.start_index }}</span> to 
        <span class="font-medium">{{ records.end_index }}</span> of 
        <span class="font-medium">{{ records.paginator.count }}</span> results
    </div>

    <div class="flex items-center gap-2">
        {% if records.has_previous %}
            <button
                hx-get="{% if page == 'dashboard' %}{% url 'dashboard' %}?page={{ records.previous_page_number }}{% else %} {% url 'drafts' %}?page={{ records.previous_page_number }} {% endif %}"
                hx-trigger="click"
                hx-target="#record-list"
                hx-swap="outerHTML"
                class="inline-flex items-center gap-1 rounded-lg bg-white border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 hover:text-slate-900 transition"
            >
                ← Previous
            </button>
        {% else %}
            <span class="inline-flex items-center gap-1 rounded-lg bg-slate-50 border border-slate-200 px-4 py-2 text-sm font-medium text-slate-400 shadow-sm cursor-not-allowed">
                ← Previous
            </span>
        {% endif %}

        {% if records.has_next %}
            <button
                hx-get="{% if page == 'dashboard' %}{% url 'dashboard' %}?page={{ records.next_page_number }}{% else %} {% url 'drafts' %}?page={{ records.next_page_number }} {% endif %}"
                hx-trigger="click"
                hx-target="#record-list"
                hx-swap="outerHTML"
                class="inline-flex items-center gap-1 rounded-lg bg-white border border-slate-200 px-4 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50 hover:text-slate-900 transition"
            >
                Next →
            </button>
        {% else %}
            <span class="inline-flex items-center gap-1 rounded-lg bg-slate-50 border border-slate-200 px-4 py-2 text-sm font-medium text-slate-400 shadow-sm cursor-not-allowed">
                Next →
            </span>
        {% endif %}
    </div>
</nav>
